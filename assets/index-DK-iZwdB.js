import{C as p,h as f,i as g,k as b,j as e,P as j,S as y,D as w,o as N,U as o}from"./index-DMgLWhk4.js";import{r as n,u as C,L as k}from"./vendor-iLaNCrNf.js";const F=()=>{const{urlApi:i}=n.useContext(p),l=C(),[r,t]=n.useState(!1),c=f({email:g().required("Please enter your email")}),{control:m,handleSubmit:u,reset:d}=b({resolver:N(c),defaultValues:{email:""}}),x=async h=>{t(!0);try{const s=await fetch(i+"rh/reset-password/"+h.email,{method:"GET",headers:{"Content-Type":"application/json"}}),a=await s.json();if(console.log(a),a){t(!1),o.success(a.message),d(),l("/auth/sign-in");return}if(!s.ok)throw t(!1),o.error(a.message),new Error(`Erreur ${s.status}: ${s.statusText}`)}catch(s){console.log(s.message),console.error(s),t(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:"Forgot Password"}),e.jsxs("form",{onSubmit:u(x),className:"mt-10 shrink",children:[e.jsx(y,{containerClassName:"mb-4",label:"Email address",name:"email",labelClassName:"block text-base/normal text-zinc-200 font-semibold",className:"block rounded border-white/10 bg-transparent py-2.5 text-white/80 focus:border-white/25 focus:outline-0 focus:ring-0",placeholder:"Enter your email",fullWidth:!0,control:m}),e.jsx("div",{className:"mb-6 flex flex-col justify-center gap-4",children:e.jsxs("button",{type:"submit",className:"relative inline-flex w-full items-center justify-center rounded bg-primary px-6 py-3 text-base capitalize text-white transition-all hover:bg-primary-700",children:[r?"Chargement...":"RÃ©initialiser le mot de passe",r&&e.jsx(w,{className:"animate-spin"})]})})]}),e.jsx("p",{className:"shrink text-center text-zinc-200",children:e.jsx(k,{to:"/auth/sign-in",className:"ms-1 text-primary",children:e.jsx("b",{children:"Connectez-vous"})})})]})};export{F as default};
